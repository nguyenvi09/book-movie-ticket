"use strict";(self.webpackChunkmovie_booking=self.webpackChunkmovie_booking||[]).push([[925],{1859:function(e,t,n){n(2791);var r=n(3504),a=n(6090),c=n(7382),s=n(3099),o=n(9434),i=n(2862),u=n(184);t.Z=function(e){var t=(0,o.I0)(),n=(0,u.jsx)(a.Z,{items:[{label:(0,u.jsx)(r.OL,{id:"userAccount",to:"/profile",children:"Th\xf4ng tin t\xe0i kho\u1ea3n"}),key:"0"},{label:(0,u.jsx)(r.OL,{id:"userAccount",to:"/admin/film-management",children:"Admin"}),key:"3"},{label:(0,u.jsx)("a",{id:"userAccount",onClick:function(){localStorage.removeItem("USER_LOGIN"),t({type:i.WK,payload:{}}),window.alert("\u0110\u0103ng xu\u1ea5t th\xe0nh c\xf4ng")},children:"\u0110\u0103ng xu\u1ea5t"}),key:"1"}]});return(0,u.jsx)(c.Z,{overlay:n,children:(0,u.jsxs)("a",{onClick:function(e){return e.preventDefault()},children:[(0,u.jsx)("img",{src:"https://i.pravatar.cc/",alt:"https://i.pravatar.cc/",style:{width:"50px",borderRadius:"50%",marginRight:"10px"}}),(0,u.jsx)(s.Z,{children:(0,u.jsx)("span",{style:{color:"white",fontSize:"2rem",fontWeight:"800"},children:e.user.taiKhoan})})]})})}},8925:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r=n(2791),a=n(9434),c=n(3504),s=n(6871),o=n(4165),i=n(5861),u=n(3144),h=n(5671),l=n(136),d=n(7277),g=n(6002),p=(0,u.Z)((function e(){(0,h.Z)(this,e),this.maLichChieu=0,this.danhSachVe=[]})),f=function(e){(0,l.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.call(this)).layChiTietPhongVe=function(t){return e.get("/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=".concat(t))},e.datVe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new p;return e.post("/api/QuanLyDatVe/DatVe",t)},e}return(0,u.Z)(n)}(g.b),x=new f,m=n(2862),v={type:m.Fh},j={type:m.Uf},y=function(e){return function(){var t=(0,i.Z)((0,o.Z)().mark((function t(n){var r;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.layChiTietPhongVe(e);case 3:200===(r=t.sent).status&&n({type:m.qZ,data:r.data.content}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=n(2226),N=n(1413),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},w=n(4291),D=function(e,t){return r.createElement(w.Z,(0,N.Z)((0,N.Z)({},e),{},{ref:t,icon:Z}))};D.displayName="UserOutlined";var k=r.forwardRef(D),C=n(732),T=n(7575),S=n(141),L=n(2426),A=n.n(L),G=n(763),I=n.n(G),U=n(8553),R=n(1859),V=n(184);function E(e){var t=(0,a.v9)((function(e){return e.userManagerReducer})).userLogin,n=(0,a.v9)((function(e){return e.ticketManagerReducer})),c=n.chiTietPhongVe,u=n.danhSachGheDangDat,h=(0,s.UO)().id,l=(0,a.I0)();if((0,r.useEffect)((function(){var e=y(h);l(e)}),[]),!localStorage.getItem(b.bc))return(0,V.jsx)(s.Fg,{replace:!0,to:"/login"});var d=c.thongTinPhim,g=c.danhSachGhe;return(0,V.jsx)("div",{className:"container",children:(0,V.jsxs)("div",{className:"row",children:[(0,V.jsxs)("div",{className:"col-9",children:[(0,V.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5",children:(0,V.jsx)("div",{children:g.map((function(e,n){var a="Vip"===e.loaiGhe?"gheVip":"",c=!0===e.daDat?"gheDaDat":"",s=u.findIndex((function(t){return t.maGhe===e.maGhe})),o="";return t.taiKhoan===e.taiKhoanNguoiDat&&(o="gheDaDuocDat"),-1!==s&&(c="gheDangDat"),(0,V.jsxs)(r.Fragment,{children:[(0,V.jsx)("button",{onClick:function(){l({type:m.v$,gheDuocChon:e})},disabled:e.daDat,className:"ghe ".concat(a," ").concat(c," ").concat(o),children:e.daDat?""!==o?(0,V.jsx)(k,{}):(0,V.jsx)(C.Z,{}):e.stt},n),(n+1)%16===0?(0,V.jsx)("br",{}):""]},n)}))})}),(0,V.jsx)("div",{className:"mt-4",children:(0,V.jsxs)("table",{className:"table",children:[(0,V.jsx)("thead",{className:"bg-gray text-white",children:(0,V.jsxs)("tr",{children:[(0,V.jsx)("th",{children:"Gh\u1ebf ch\u01b0a \u0111\u1eb7t"}),(0,V.jsx)("th",{children:"Gh\u1ebf \u0111ang \u0111\u1eb7t"}),(0,V.jsx)("th",{children:"Gh\u1ebf vip"}),(0,V.jsx)("th",{children:"Gh\u1ebf \u0111\xe3 \u0111\u1eb7t"}),(0,V.jsx)("th",{children:"Gh\u1ebf b\u1ea1n \u0111\u1eb7t"}),(0,V.jsx)("th",{children:"Gh\u1ebf kh\xe1ch \u0111ang \u0111\u1eb7t"})]})}),(0,V.jsx)("tbody",{children:(0,V.jsxs)("tr",{children:[(0,V.jsxs)("td",{children:[(0,V.jsxs)("button",{className:"ghe text-center",children:[" ",(0,V.jsx)(T.Z,{style:{marginBottom:7.5,fontWeight:"bold"}})," "]})," "]}),(0,V.jsxs)("td",{children:[(0,V.jsxs)("button",{className:"ghe gheDangDat text-center",children:[" ",(0,V.jsx)(T.Z,{style:{marginBottom:7.5,fontWeight:"bold"}})]})," "]}),(0,V.jsxs)("td",{children:[(0,V.jsx)("button",{className:"ghe gheVip text-center",children:(0,V.jsx)(T.Z,{style:{marginBottom:7.5,fontWeight:"bold"}})})," "]}),(0,V.jsxs)("td",{children:[(0,V.jsxs)("button",{className:"ghe gheDaDat text-center",children:[" ",(0,V.jsx)(C.Z,{style:{marginBottom:7.5,fontWeight:"bold"}})," "]})," "]}),(0,V.jsxs)("td",{children:[(0,V.jsxs)("button",{className:"ghe gheDaDuocDat text-center",children:[" ",(0,V.jsx)(k,{style:{marginBottom:7.5,fontWeight:"bold"}})," "]})," "]}),(0,V.jsxs)("td",{children:[(0,V.jsxs)("button",{className:"ghe gheKhachDat text-center",children:[" ",(0,V.jsx)(T.Z,{style:{marginBottom:7.5,fontWeight:"bold"}})," "]})," "]})]})})]})})]}),(0,V.jsx)("div",{className:"col-3 text-white",children:(0,V.jsxs)("div",{style:{backgroundColor:"#00000069",padding:"10px",borderRadius:"5px"},children:[(0,V.jsx)("h2",{className:"text-white text-center",children:d.tenPhim}),(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{className:"text-secondary",children:"Ng\xe0y gi\u1edd chi\u1ebfu:"})," ",d.ngayChieu," -",d.gioChieu]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{className:"text-secondary",children:"C\u1ee5m r\u1ea1p:"})," ",d.tenCumRap]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{className:"text-secondary",children:"R\u1ea1p:"})," ",d.tenRap]}),(0,V.jsx)("div",{className:"row",children:(0,V.jsxs)("div",{className:"col-12",style:{minHeight:"70px"},children:[(0,V.jsx)("span",{className:"text-secondary",children:"Gh\u1ebf ch\u1ecdn: "}),(0,V.jsx)("span",{children:u.map((function(e,t){return(0,V.jsxs)("span",{className:"text-success",children:["G",e.stt,"-",e.giaVe.toLocaleString(),"\u0111 "]},t)}))})]})}),(0,V.jsx)("hr",{}),(0,V.jsxs)("h3",{className:"display-5 text-white",children:[(0,V.jsx)("span",{className:"text-secondary",children:"T\u1ed5ng ti\u1ec1n:"})," ",u.reduce((function(e,t){return e+t.giaVe}),0).toLocaleString(),"\u0111"]}),(0,V.jsx)("div",{className:"d-flex justify-content-center mt-5",children:(0,V.jsx)("button",{style:{fontSize:"2rem",width:"100%",fontWeight:"700"},className:"btn btn-danger px-3",onClick:function(){var e=new p;e.maLichChieu=h,e.danhSachVe=u,l(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new p;return function(){var t=(0,i.Z)((0,o.Z)().mark((function t(n){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v),t.next=4,x.datVe(e);case 4:return t.sent,t.next=7,n(y(e.maLichChieu));case 7:return t.next=9,n({type:m.sb});case 9:return t.next=11,n(j);case 11:n({type:m.aJ}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),n(j),console.log("error",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}(e))},children:"\u0110\u1eb7t v\xe9"})})]})})]})})}var K=S.Z.TabPane;function B(e){var t=(0,a.v9)((function(e){return e.ticketManagerReducer})).tabActive,n=(0,a.I0)(),s=(0,a.v9)((function(e){return e.userManagerReducer})).userLogin;(0,r.useEffect)((function(){window.scrollTo(0,0)}),[]);var o=(0,V.jsx)(r.Fragment,{children:I().isEmpty(s)?"":(0,V.jsx)(c.OL,{to:"/profile",children:(0,V.jsx)(R.Z,{user:s})})});return(0,V.jsx)("div",{className:"p-5 bg-checkout",children:(0,V.jsxs)(S.Z,{tabBarExtraContent:o,tabBarStyle:{color:"white"},defaultActiveKey:"1",activeKey:t,onChange:function(e){n({type:"CHANGE_TAB_ACTIVE",number:e.toString()})},children:[(0,V.jsx)(K,{tab:"01 Ch\u1ecdn gh\u1ebf & thanh to\xe1n",children:(0,V.jsx)(E,{})},"1"),(0,V.jsx)(K,{tab:"02 K\u1ebft qu\u1ea3 \u0111\u1eb7t v\xe9",children:(0,V.jsx)(O,{})},"2"),(0,V.jsx)(K,{tab:(0,V.jsx)(c.OL,{style:{color:"var(--primary-color)"},to:"/",children:"Trang ch\u1ee7"})},"3")]})})}function O(e){var t=(0,a.I0)(),n=(0,a.v9)((function(e){return e.userManagerReducer})).thongTinNguoiDung;(0,r.useEffect)((function(){var e=(0,U.pZ)();t(e)}),[]);return(0,V.jsxs)("div",{className:"p-5 container",children:[(0,V.jsx)("div",{className:"text-center mb-5",children:(0,V.jsx)("h1",{style:{fontSize:"4rem",fontWeight:"900",color:"white"},children:"L\u1ecbch s\u1eed \u0111\u1eb7t v\xe9 kh\xe1ch h\xe0ng"})}),(0,V.jsx)("div",{className:"render-ticket",children:function(){var e;return null===(e=n.thongTinDatVe)||void 0===e?void 0:e.map((function(e,t){var n=I().first(e.danhSachGhe);return(0,V.jsxs)("div",{style:{display:"flex",gap:"20px",border:"1px solid white",borderRadius:"10px",overflow:"hidden"},children:[(0,V.jsx)("img",{alt:e.tenPhim,style:{width:"20%"},src:e.hinhAnh}),(0,V.jsxs)("div",{className:"text-white",children:[(0,V.jsx)("h1",{className:"text-white",children:e.tenPhim}),(0,V.jsxs)("p",{className:"text-gray-500",children:[(0,V.jsx)("span",{className:"font-bold",children:"Gi\u1edd chi\u1ebfu:"})," ",A()(e.ngayDat).format("hh:mm A")," -"," ",(0,V.jsx)("span",{className:"font-bold",children:"Ng\xe0y chi\u1ebfu:"})," ",A()(e.ngayDat).format("DD-MM-YYYY")]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{className:"font-bold",children:"\u0110\u1ecba \u0111i\u1ec3m:"})," ",n.tenHeThongRap," "]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{className:"font-bold",children:"T\xean r\u1ea1p:"})," ",n.tenCumRap," -"," ",(0,V.jsx)("span",{className:"font-bold",children:"Gh\u1ebf:"})," ",e.danhSachGhe.map((function(e,t){return(0,V.jsxs)("span",{className:"text-green-500 text-xl",children:[" ","[ ",e.tenGhe," ]"," "]},t)}))]})]})]},t)}))}()})]})}},8553:function(e,t,n){n.d(t,{ND:function(){return b},J$:function(){return j},xy:function(){return y},pZ:function(){return f},nQ:function(){return v},Re:function(){return p},H:function(){return x},z$:function(){return m}});var r=n(4165),a=n(5861),c=n(5645),s=n(3144),o=n(5671),i=n(136),u=n(7277),h=(n(2426),n(2226)),l=function(e){(0,i.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this)).logIn=function(t){return e.post("/api/QuanLyNguoiDung/DangNhap",t)},e.registerAccount=function(t){return e.post("/api/QuanLyNguoiDung/DangKy",t)},e.getUserInfo=function(){return e.post("/api/QuanLyNguoiDung/ThongTinTaiKhoan")},e.updateAccount=function(t){return e.put("/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung",t)},e.getUserList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""!==t.trim()?e.get("/api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=".concat(h.WY,"&tuKhoa=").concat(t)):e.get("/api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=".concat(h.WY))},e.deleteUser=function(t){return e.delete("/api/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=".concat(t))},e.editUser=function(t){return e.post("/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung",t)},e.addUser=function(t){return e.post("/api/QuanLyNguoiDung/ThemNguoiDung",t)},e}return(0,s.Z)(n)}(n(6002).b),d=new l,g=n(2862),p=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.logIn(e);case 3:200===(a=t.sent).data.statusCode&&(n({type:g.pe,data:a.data.content}),window.alert("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"),c.m.back()),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),window.alert("T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang"),console.log("error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.getUserInfo();case 3:200===(n=e.sent).data.statusCode&&t({type:g.$j,data:n.data.content}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.registerAccount(e);case 3:200===(a=t.sent).data.statusCode&&(n({type:g.pe,data:a.data.content}),c.m.back(),window.alert("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("errors",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.updateAccount(e);case 3:a=t.sent,n({type:"UPDATE_ACCOUNT",payload:a.data.content}),window.alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("errors",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.getUserList(e);case 3:200===(a=t.sent).data.statusCode&&n({type:"SET_DANH_SACH_NGUOI_DUNG",payload:a.data.content}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.deleteUser(e);case 3:200===t.sent.data.statusCode&&(alert("X\xf3a th\xe0nh c\xf4ng!"),n(v())),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0.response.data.content),console.log("error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.editUser(e);case 3:t.sent,alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),n(v()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("errors",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.addUser(e);case 3:t.sent,n(v()),alert("Th\xeam m\u1edbi th\xe0nh c\xf4ng!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),alert("L\u1ed7i: "+t.t0.response.data.content);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},6002:function(e,t,n){n.d(t,{b:function(){return i}});var r=n(3144),a=n(5671),c=n(4569),s=n.n(c),o=n(2226),i=(0,r.Z)((function e(){(0,a.Z)(this,e),this.put=function(e,t){return s()({url:"".concat(o.yK).concat(e),method:"PUT",data:t,headers:{Authorization:localStorage.getItem(o.bc)?"Bearer "+JSON.parse(localStorage.getItem(o.bc)).accessToken:"",TokenCybersoft:o.o3}})},this.post=function(e,t){return s()({url:"".concat(o.yK).concat(e),method:"POST",data:t,headers:{Authorization:localStorage.getItem(o.bc)?"Bearer "+JSON.parse(localStorage.getItem(o.bc)).accessToken:"",TokenCybersoft:o.o3}})},this.get=function(e){return s()({url:"".concat(o.yK).concat(e),method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem(o.o3),TokenCybersoft:o.o3}})},this.delete=function(e){return s()({url:"".concat(o.yK).concat(e),method:"DELETE",headers:{Authorization:localStorage.getItem(o.bc)?"Bearer "+JSON.parse(localStorage.getItem(o.bc)).accessToken:"",TokenCybersoft:o.o3}})}}))},7575:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(1413),a=n(2791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},s=n(4291),o=function(e,t){return a.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:c}))};o.displayName="CheckOutlined";var i=a.forwardRef(o)}}]);
//# sourceMappingURL=925.fc76893c.chunk.js.map