{"version":3,"file":"static/js/48.12bb28bf.chunk.js","mappings":"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","sources":["components/Modal/AddFilmModal/index.js","components/Modal/EditFilmModal/index.js","pages/Admin/FilmManagement/index.js","redux/actions/movieManagerAction.js","services/BaseService.js","services/MovieManagerService.js"],"sourcesContent":["import { Button, Modal } from \"antd\";\r\nimport {\r\n  Cascader,\r\n  DatePicker,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  Radio,\r\n  Select,\r\n  Switch,\r\n  TreeSelect,\r\n} from \"antd\";\r\nimport { useFormik } from \"formik\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addMovieUploadPictureAction } from \"../../../redux/actions/movieManagerAction\";\r\nimport { GROUPID } from \"../../../util/settings/config\";\r\n\r\nconst AddFilmModal = () => {\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const [componentSize, setComponentSize] = useState(\"default\");\r\n  const [imgSrc, setImgSrc] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      maNhom: GROUPID,\r\n      tenPhim: \"\",\r\n      trailer: \"\",\r\n      moTa: \"\",\r\n      ngayKhoiChieu: \"\",\r\n      dangChieu: false,\r\n      sapChieu: false,\r\n      hot: false,\r\n      danhGia: 0,\r\n      //hình ảnh là 1 object dữ liệu dạng file gửi đi\r\n      hinhAnh: {},\r\n    },\r\n    onSubmit: (values, { resetForm }) => {\r\n      values.maNhom = GROUPID;\r\n      //Tạo đối tượng formdata => Đưa giá trị values từ formik vào formdata\r\n      let formData = new FormData();\r\n      for (let key in values) {\r\n        if (key !== \"hinhAnh\") {\r\n          formData.append(key, values[key]);\r\n        } else {\r\n          formData.append(\"File\", values.hinhAnh, values.hinhAnh.name);\r\n        }\r\n      }\r\n\r\n      dispatch(addMovieUploadPictureAction(formData));\r\n      resetForm();\r\n      handleCancel();\r\n    },\r\n  });\r\n\r\n  const handleChangeDatePicker = (value) => {\r\n    //chuyển đổi object moment thành chuỗi để gửi đi\r\n    let ngayKhoiChieu = moment(value).format(\"DD/MM/YYYY\");\r\n    formik.setFieldValue(\"ngayKhoiChieu\", ngayKhoiChieu);\r\n  };\r\n\r\n  const handleChangeSwitch = (name) => {\r\n    return (value) => formik.setFieldValue(name, value);\r\n  };\r\n\r\n  const handleChangeInputNumber = (name) => {\r\n    return (value) => formik.setFieldValue(name, value);\r\n  };\r\n\r\n  const handleChangeFile = (e) => {\r\n    //Lấy file ra từ e\r\n    let file = e.target.files[0];\r\n    if (\r\n      file.type === \"image/jpeg\" ||\r\n      file.type === \"image/jpg\" ||\r\n      file.type === \"image/gif\" ||\r\n      file.type === \"image/png\"\r\n    ) {\r\n      //Tạo đối tượng để đọc file\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e) => {\r\n        setImgSrc(e.target.result);\r\n      };\r\n      //Đem dữ liệu file lưu vào formik\r\n      formik.setFieldValue(\"hinhAnh\", file);\r\n    }\r\n  };\r\n\r\n  const onFormLayoutChange = ({ size }) => {\r\n    setComponentSize(size);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        style={{ backgroundColor: \"green\" }}\r\n        type=\"primary\"\r\n        onClick={showModal}\r\n      >\r\n        Thêm phim mới\r\n      </Button>\r\n      <Modal visible={isModalVisible} onCancel={handleCancel} footer={null}>\r\n        <div className=\"container\">\r\n          <Form\r\n            onSubmitCapture={formik.handleSubmit}\r\n            labelCol={{\r\n              span: 6,\r\n            }}\r\n            wrapperCol={{\r\n              span: 14,\r\n            }}\r\n            layout=\"horizontal\"\r\n            initialValues={{\r\n              size: componentSize,\r\n            }}\r\n            onValuesChange={onFormLayoutChange}\r\n            size={componentSize}\r\n          >\r\n            <h1>Thêm phim mới </h1>\r\n            <Form.Item label=\"Tên phim\">\r\n              <Input name=\"tenPhim\" onChange={formik.handleChange} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Trailer\">\r\n              <Input name=\"trailer\" onChange={formik.handleChange} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Mô tả\">\r\n              <Input name=\"moTa\" onChange={formik.handleChange} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Ngày khởi chiếu\">\r\n              <DatePicker\r\n                format={\"DD/MM/YYYY\"}\r\n                onChange={handleChangeDatePicker}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item label=\"Đang chiếu\">\r\n              <Switch onChange={handleChangeSwitch(\"dangChieu\")} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Sắp chiếu\">\r\n              <Switch onChange={handleChangeSwitch(\"sapChieu\")} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Hot\">\r\n              <Switch onChange={handleChangeSwitch(\"hot\")} />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Số sao\">\r\n              <InputNumber\r\n                onChange={handleChangeInputNumber(\"danhGia\")}\r\n                min={1}\r\n                max={10}\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Hình ảnh\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/png, image/jpeg,image/gif,image/png\"\r\n                onChange={handleChangeFile}\r\n              />\r\n              <br />\r\n              <img\r\n                style={{ width: 150, height: 150 }}\r\n                src={imgSrc}\r\n                alt=\"...\"\r\n                accept=\"image/png, image/jpeg,image/gif,image/png\"\r\n              />\r\n            </Form.Item>\r\n            <div style={{ textAlign: \"right\" }}>\r\n              <button type=\"submit\" className=\"bg-success text-white p-2\">\r\n                Thêm phim\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddFilmModal;\r\n","import { Button, Modal } from \"antd\";\r\nimport {\r\n  Cascader,\r\n  DatePicker,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  Radio,\r\n  Select,\r\n  Switch,\r\n  TreeSelect,\r\n} from \"antd\";\r\nimport { useFormik } from \"formik\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateMovieUploadAction } from \"../../../redux/actions/movieManagerAction\";\r\nimport { GROUPID } from \"../../../util/settings/config\";\r\n\r\nconst EditFilmModal = (props) => {\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  const [componentSize, setComponentSize] = useState(\"default\");\r\n  const [imgSrc, setImgSrc] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const { film } = props;\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      //cần trường mã phim để POST cập nhật phim\r\n      maPhim: film.maPhim,\r\n      tenPhim: film.tenPhim,\r\n      trailer: film.trailer,\r\n      moTa: film.moTa,\r\n      ngayKhoiChieu: film.ngayKhoiChieu,\r\n      dangChieu: film.dangChieu,\r\n      sapChieu: film.sapChieu,\r\n      hot: film.hot,\r\n      danhGia: film.danhGia,\r\n      hinhAnh: null,\r\n      maNhom: GROUPID,\r\n    },\r\n    onSubmit: (values) => {\r\n      values.maNhom = GROUPID;\r\n      //Tạo đối tượng formdata => Đưa giá trị values từ formik vào formdata\r\n      let formData = new FormData();\r\n      for (let key in values) {\r\n        if (key !== \"hinhAnh\") {\r\n          formData.append(key, values[key]);\r\n        } else {\r\n          if (values.hinhAnh !== null) {\r\n            formData.append(\"File\", values.hinhAnh, values.hinhAnh.name);\r\n          }\r\n        }\r\n      }\r\n      dispatch(updateMovieUploadAction(formData));\r\n      handleCancel();\r\n    },\r\n  });\r\n\r\n  const handleChangeDatePicker = (value) => {\r\n    //chuyển đổi object moment thành chuỗi để gửi đi\r\n    let ngayKhoiChieu = moment(value);\r\n    formik.setFieldValue(\"ngayKhoiChieu\", ngayKhoiChieu);\r\n  };\r\n\r\n  const handleChangeSwitch = (name) => {\r\n    return (value) => formik.setFieldValue(name, value);\r\n  };\r\n\r\n  const handleChangeInputNumber = (name) => {\r\n    return (value) => formik.setFieldValue(name, value);\r\n  };\r\n\r\n  const handleChangeFile = async (e) => {\r\n    //Lấy file ra từ e\r\n    let file = e.target.files[0];\r\n    if (\r\n      file.type === \"image/jpeg\" ||\r\n      file.type === \"image/jpg\" ||\r\n      file.type === \"image/gif\" ||\r\n      file.type === \"image/png\"\r\n    ) {\r\n      //Đem dữ liệu file lưu vào formik\r\n      await formik.setFieldValue(\"hinhAnh\", file);\r\n      //Tạo đối tượng để đọc file\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e) => {\r\n        setImgSrc(e.target.result);\r\n      };\r\n    }\r\n  };\r\n\r\n  const onFormLayoutChange = ({ size }) => {\r\n    setComponentSize(size);\r\n  };\r\n  return (\r\n    <>\r\n      <Button type=\"primary\" onClick={showModal}>\r\n        Sửa\r\n      </Button>\r\n      <Modal visible={isModalVisible} onCancel={handleCancel} footer={null}>\r\n        {/* <EditFilm maPhim={props.maPhim} closeModal={handleCancel} /> */}\r\n        <div className=\"container\">\r\n          <Form\r\n            onSubmitCapture={formik.handleSubmit}\r\n            labelCol={{\r\n              span: 6,\r\n            }}\r\n            wrapperCol={{\r\n              span: 14,\r\n            }}\r\n            layout=\"horizontal\"\r\n            initialValues={{\r\n              size: componentSize,\r\n            }}\r\n            onValuesChange={onFormLayoutChange}\r\n            size={componentSize}\r\n          >\r\n            <h3>Cập nhật phim </h3>\r\n            <Form.Item label=\"Tên phim\">\r\n              <Input\r\n                name=\"tenPhim\"\r\n                onChange={formik.handleChange}\r\n                value={formik.values.tenPhim}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item label=\"Trailer\">\r\n              <Input\r\n                name=\"trailer\"\r\n                onChange={formik.handleChange}\r\n                value={formik.values.trailer}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item label=\"Mô tả\">\r\n              <Input\r\n                name=\"moTa\"\r\n                onChange={formik.handleChange}\r\n                value={formik.values.moTa}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item label=\"Ngày khởi chiếu\">\r\n              <DatePicker\r\n                format={\"DD/MM/YYYY\"}\r\n                onChange={handleChangeDatePicker}\r\n                value={moment(formik.values.ngayKhoiChieu)}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item label=\"Đang chiếu\">\r\n              <Switch\r\n                onChange={handleChangeSwitch(\"dangChieu\")}\r\n                checked={formik.values.dangChieu}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item label=\"Sắp chiếu\">\r\n              <Switch\r\n                onChange={handleChangeSwitch(\"sapChieu\")}\r\n                checked={formik.values.sapChieu}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item label=\"Hot\">\r\n              <Switch\r\n                onChange={handleChangeSwitch(\"hot\")}\r\n                checked={formik.values.hot}\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Số sao\">\r\n              <InputNumber\r\n                onChange={handleChangeInputNumber(\"danhGia\")}\r\n                min={1}\r\n                max={10}\r\n                value={formik.values.danhGia}\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Hình ảnh\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/png, image/jpeg,image/gif,image/png\"\r\n                onChange={handleChangeFile}\r\n              />\r\n              <br />\r\n              <img\r\n                style={{ width: 150, height: 150 }}\r\n                src={imgSrc === \"\" ? film.hinhAnh : imgSrc}\r\n                alt=\"...\"\r\n                accept=\"image/png, image/jpeg,image/gif,image/png\"\r\n              />\r\n            </Form.Item>\r\n            <div style={{ textAlign: \"right\" }}>\r\n              <button type=\"submit\" className=\"bg-success text-white p-2\">\r\n                Cập nhật phim\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nexport default EditFilmModal;\r\n","import React, { Fragment, useEffect } from \"react\";\r\nimport { Table, Input, Button } from \"antd\";\r\nimport { SearchOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  deleteMovieAction,\r\n  getListMovieAction,\r\n} from \"../../../redux/actions/movieManagerAction\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport AddFilmModal from \"../../../components/Modal/AddFilmModal\";\r\nimport EditFilmModal from \"../../../components/Modal/EditFilmModal\";\r\n\r\nfunction FilmManagement() {\r\n  const { arrMovieDefault } = useSelector((state) => state.movieManagerReducer);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getListMovieAction());\r\n  }, []);\r\n\r\n  const { Search } = Input;\r\n\r\n  const onSearch = (value) => {\r\n    dispatch(getListMovieAction(value));\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Mã phim\",\r\n      dataIndex: \"maPhim\",\r\n\r\n      sorter: (a, b) => a.maPhim - b.maPhim,\r\n      defaultSortOrder: \"descend\",\r\n      width: \"15%\",\r\n    },\r\n    {\r\n      title: \"Hình ảnh\",\r\n      dataIndex: \"hinhAnh\",\r\n\r\n      render: (text, film, index) => {\r\n        return (\r\n          <Fragment>\r\n            <img\r\n              src={film.hinhAnh}\r\n              alt={film.tenPhim}\r\n              width={80}\r\n              height={90}\r\n              onError={(e) => {\r\n                e.target.onError = null;\r\n                e.target.src = `https://picsum.photos/id/${index}/50/50`;\r\n              }}\r\n            />\r\n          </Fragment>\r\n        );\r\n      },\r\n      width: \"15%\",\r\n    },\r\n    {\r\n      title: \"Tên phim\",\r\n      dataIndex: \"tenPhim\",\r\n\r\n      sorter: (a, b) => {\r\n        let tenPhimA = a.tenPhim.toLowerCase().trim();\r\n        let tenPhimB = b.tenPhim.toLowerCase().trim();\r\n        if (tenPhimA > tenPhimB) {\r\n          return -1;\r\n        }\r\n        return 1;\r\n      },\r\n      sortDirections: [\"ascend\", \"descend\"],\r\n      width: \"25%\",\r\n    },\r\n    {\r\n      title: \"Mô tả\",\r\n      dataIndex: \"moTa\",\r\n\r\n      render: (text, film) => {\r\n        return (\r\n          <Fragment>\r\n            {film.moTa.length > 50\r\n              ? film.moTa.substr(0, 50) + \" ...\"\r\n              : film.moTa}\r\n          </Fragment>\r\n        );\r\n      },\r\n      sortDirections: [\"descend\", \"ascend\"],\r\n      width: \"25%\",\r\n    },\r\n    {\r\n      title: \"Hành động\",\r\n      dataIndex: \"maPhim\",\r\n      render: (text, film) => {\r\n        return (\r\n          <Fragment key={film.maPhim}>\r\n            <EditFilmModal film={film} />\r\n            <Button\r\n              type=\"danger\"\r\n              onClick={() => {\r\n                if (\r\n                  window.confirm(\"Bạn có chắc muốn xóa phim: \" + film.tenPhim)\r\n                ) {\r\n                  dispatch(deleteMovieAction(film.maPhim));\r\n                }\r\n              }}\r\n            >\r\n              Xóa\r\n            </Button>\r\n          </Fragment>\r\n        );\r\n      },\r\n      sortDirections: [\"descend\", \"ascend\"],\r\n      width: \"25%\",\r\n    },\r\n  ];\r\n  const data = arrMovieDefault;\r\n\r\n  const onChange = (pagination, filters, sorter, extra) => {\r\n    console.log(\"params\", pagination, filters, sorter, extra);\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <AddFilmModal />\r\n      <Search\r\n        placeholder=\"Tìm kiếm phim\"\r\n        enterButton={<SearchOutlined />}\r\n        size=\"large\"\r\n        onSearch={onSearch}\r\n      />\r\n      <Table\r\n        columns={columns}\r\n        dataSource={data}\r\n        onChange={onChange}\r\n        rowKey=\"maPhim\"\r\n      />\r\n      <Outlet />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilmManagement;\r\n","import {\r\n  DELETE_MOVIE,\r\n  GET_LIST_MOVIE,\r\n  SET_MOVIE_INFO,\r\n} from \"../contants/movie-booking\";\r\nimport { movieManagerService } from \"../../services/MovieManagerService\";\r\n\r\nexport const getListMovieAction = (tenPhim = \"\") => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await movieManagerService.getListMovie(tenPhim);\r\n      dispatch({\r\n        type: GET_LIST_MOVIE,\r\n        data: result.data.content,\r\n      });\r\n    } catch (errors) {\r\n      console.log(\"error\", errors);\r\n    }\r\n  };\r\n};\r\n\r\nexport const addMovieUploadPictureAction = (formData) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      let result = await movieManagerService.addMovieUploadPicture(formData);\r\n      alert(\"Thêm phim thành công\");\r\n      dispatch(getListMovieAction());\r\n    } catch (errors) {\r\n      console.log(\"error\", errors);\r\n      alert(\"Lỗi: \" + errors.response.data.content);\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateMovieUploadAction = (formData) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      let result = await movieManagerService.updateMovieUpload(formData);\r\n      if (result.data.statusCode == 200) {\r\n        alert(\"Cập nhật phim thành công\");\r\n        dispatch(getListMovieAction());\r\n      }\r\n    } catch (errors) {\r\n      console.log(\"error\", errors);\r\n      alert(errors.response?.data.content);\r\n    }\r\n  };\r\n};\r\n\r\nexport const getMovieInfoAction = (maPhim) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await movieManagerService.getMovieInfo(maPhim);\r\n      dispatch({\r\n        type: SET_MOVIE_INFO,\r\n        payload: result.data.content,\r\n      });\r\n    } catch (errors) {\r\n      console.log(\"errors\", errors);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteMovieAction = (maPhim) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await movieManagerService.deleteMovie(maPhim);\r\n      alert(\"Xóa phim thành công!\");\r\n      dispatch(getListMovieAction());\r\n    } catch (errors) {\r\n      console.log(\"errors\", errors);\r\n    }\r\n  };\r\n};\r\n","import Axios from \"axios\";\r\nimport { DOMAIN, TOKEN, USER_LOGIN } from \"../util/settings/config\";\r\n\r\nexport class BaseService {\r\n  put = (url, model) => {\r\n    return Axios({\r\n      url: `${DOMAIN}${url}`,\r\n      method: \"PUT\",\r\n      data: model,\r\n      headers: {\r\n        Authorization: localStorage.getItem(USER_LOGIN)\r\n          ? \"Bearer \" + JSON.parse(localStorage.getItem(USER_LOGIN)).accessToken\r\n          : \"\",\r\n        TokenCybersoft: TOKEN,\r\n      },\r\n    });\r\n  };\r\n\r\n  post = (url, model) => {\r\n    return Axios({\r\n      url: `${DOMAIN}${url}`,\r\n      method: \"POST\",\r\n      data: model,\r\n      headers: {\r\n        Authorization: localStorage.getItem(USER_LOGIN)\r\n          ? \"Bearer \" + JSON.parse(localStorage.getItem(USER_LOGIN)).accessToken\r\n          : \"\",\r\n        TokenCybersoft: TOKEN,\r\n      },\r\n    });\r\n  };\r\n\r\n  get = (url) => {\r\n    return Axios({\r\n      url: `${DOMAIN}${url}`,\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(TOKEN),\r\n        TokenCybersoft: TOKEN,\r\n      },\r\n    });\r\n  };\r\n\r\n  delete = (url) => {\r\n    return Axios({\r\n      url: `${DOMAIN}${url}`,\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: localStorage.getItem(USER_LOGIN)\r\n          ? \"Bearer \" + JSON.parse(localStorage.getItem(USER_LOGIN)).accessToken\r\n          : \"\",\r\n        TokenCybersoft: TOKEN,\r\n      },\r\n    });\r\n  };\r\n}\r\n","import { GROUPID } from \"../util/settings/config\";\r\nimport { BaseService } from \"./BaseService\";\r\n\r\nexport class MovieManagerService extends BaseService {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  getBanners = () => {\r\n    return this.get(`/api/QuanLyPhim/LayDanhSachBanner`);\r\n  };\r\n\r\n  getListMovie = (tenPhim = \"\") => {\r\n    if (tenPhim.trim() !== \"\") {\r\n      return this.get(\r\n        `/api/QuanLyPhim/LayDanhSachPhim?maNhom=${GROUPID}&tenPhim=${tenPhim}`\r\n      );\r\n    }\r\n    return this.get(`/api/QuanLyPhim/LayDanhSachPhim?maNhom=${GROUPID}`);\r\n  };\r\n\r\n  getMovieInfo = (maPhim) => {\r\n    return this.get(`/api/QuanLyPhim/LayThongTinPhim?MaPhim=${maPhim}`);\r\n  };\r\n\r\n  addMovieUploadPicture = (formData) => {\r\n    return this.post(`/api/QuanLyPhim/ThemPhimUploadHinh`, formData);\r\n  };\r\n\r\n  updateMovieUpload = (formData) => {\r\n    return this.post(`/api/QuanLyPhim/CapNhatPhimUpload`, formData);\r\n  };\r\n\r\n  deleteMovie = (maPhim) => {\r\n    return this.delete(`/api/QuanLyPhim/XoaPhim?MaPhim=${maPhim}`);\r\n  };\r\n}\r\n\r\nexport const movieManagerService = new MovieManagerService();\r\n"],"names":["name","useState","isModalVisible","setIsModalVisible","handleCancel","componentSize","setComponentSize","imgSrc","setImgSrc","dispatch","useDispatch","formik","useFormik","initialValues","maNhom","GROUPID","tenPhim","trailer","moTa","ngayKhoiChieu","dangChieu","sapChieu","hot","danhGia","hinhAnh","onSubmit","values","resetForm","formData","FormData","key","append","addMovieUploadPictureAction","handleChangeSwitch","value","setFieldValue","style","backgroundColor","type","onClick","visible","onCancel","footer","className","onSubmitCapture","handleSubmit","labelCol","span","wrapperCol","layout","size","onValuesChange","label","onChange","handleChange","format","moment","min","max","accept","e","file","target","files","reader","FileReader","readAsDataURL","onload","result","width","height","src","alt","textAlign","props","film","enableReinitialize","maPhim","updateMovieUploadAction","handleChangeFile","checked","arrMovieDefault","useSelector","state","movieManagerReducer","useEffect","getListMovieAction","Search","Input","columns","title","dataIndex","sorter","a","b","defaultSortOrder","render","text","index","Fragment","onError","toLowerCase","trim","sortDirections","length","substr","window","confirm","deleteMovieAction","data","placeholder","enterButton","SearchOutlined","onSearch","dataSource","pagination","filters","extra","console","log","rowKey","movieManagerService","GET_LIST_MOVIE","content","alert","response","statusCode","BaseService","put","url","model","Axios","DOMAIN","method","headers","Authorization","localStorage","getItem","USER_LOGIN","JSON","parse","accessToken","TokenCybersoft","TOKEN","post","get","delete","MovieManagerService","getBanners","getListMovie","getMovieInfo","addMovieUploadPicture","updateMovieUpload","deleteMovie"],"sourceRoot":""}