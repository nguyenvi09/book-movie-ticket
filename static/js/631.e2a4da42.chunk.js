"use strict";(self.webpackChunkbook_movie_ticket=self.webpackChunkbook_movie_ticket||[]).push([[631],{2631:function(e,n,a){a.r(n),a.d(n,{default:function(){return T}});var t=a(2791),r=a(7031),o=a(7309),c=a(3249),s=a(1730),i=a(9434),l=a(6871),u=a(8553),h=a(9439),m="EditUserModal_input__L201I",d=a(5705),g=a(132),f=a(6054),p=a(2226),x=a(184),v=function(e){var n=(0,t.useState)(!1),a=(0,h.Z)(n,2),r=a[0],c=a[1],s=(0,i.I0)(),l=function(){c(!1)},v=e.user,N=(0,d.TA)({initialValues:{maNhom:p.WY,taiKhoan:v.taiKhoan,hoTen:v.hoTen,email:v.email,soDT:v.soDT,maLoaiNguoiDung:v.maLoaiNguoiDung,matKhau:v.matKhau},validationSchema:g.Ry({hoTen:g.Z_().required("H\u1ecd t\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),matKhau:g.Z_().required("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),email:g.Z_().required("Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!").email("Email kh\xf4ng h\u1ee3p l\u1ec7, v\xed d\u1ee5: example@gmail.com"),soDT:g.Z_().required("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!").max(10,"T\u1ed1i ta 10 ch\u1eef s\u1ed1!").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7!")}),onSubmit:function(e){s((0,u.xy)(e)),l()}});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{type:"primary",onClick:function(){c(!0)},children:"S\u1eeda"}),(0,x.jsx)(f.Z,{title:"C\u1eadp nh\u1eadt th\xf4ng tin",visible:r,onCancel:l,onOk:function(){N.handleSubmit()},okType:"primary",okText:"L\u01b0u",children:(0,x.jsxs)("form",{onSubmit:N.handleSubmit,children:[(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"T\xe0i kho\u1ea3n"}),(0,x.jsx)("div",{className:"col-9",children:(0,x.jsx)("input",{type:"text",className:"form-control ".concat(m),name:"taiKhoan",value:N.values.taiKhoan,disabled:!0})})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"H\u1ecd t\xean"}),(0,x.jsxs)("div",{className:"col-9",children:[(0,x.jsx)("input",{type:"text",className:"form-control ".concat(m),name:"hoTen",value:N.values.hoTen,onChange:N.handleChange}),N.errors.hoTen&&(0,x.jsx)("span",{style:{fontSize:"1.6rem",color:"#ff0000c2"},children:N.errors.hoTen})]})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"Email"}),(0,x.jsxs)("div",{className:"col-9",children:[(0,x.jsx)("input",{type:"email",className:"form-control ".concat(m),name:"email",value:N.values.email,onChange:N.handleChange}),N.errors.email&&(0,x.jsx)("span",{style:{fontSize:"1.6rem",color:"#ff0000c2"},children:N.errors.email})]})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"Lo\u1ea1i ng\u01b0\u1eddi d\xf9ng"}),(0,x.jsx)("div",{className:"col-9",children:(0,x.jsxs)("select",{name:"maLoaiNguoiDung",className:"form-control ".concat(m),onChange:N.handleChange,value:N.values.maLoaiNguoiDung,children:[(0,x.jsx)("option",{value:"QuanTri",children:"Qu\u1ea3n tr\u1ecb"}),(0,x.jsx)("option",{value:"KhachHang",children:"Kh\xe1ch h\xe0ng"})]})})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),(0,x.jsxs)("div",{className:"col-9",children:[(0,x.jsx)("input",{type:"text",className:"form-control ".concat(m),name:"soDT",value:N.values.soDT,onChange:N.handleChange}),N.errors.soDT&&(0,x.jsx)("span",{style:{fontSize:"1.6rem",color:"#ff0000c2"},children:N.errors.soDT})]})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"M\u1eadt kh\u1ea9u"}),(0,x.jsxs)("div",{className:"col-9",children:[(0,x.jsx)("input",{type:"text",className:"form-control ".concat(m),name:"matKhau",value:N.values.matKhau,onChange:N.handleChange}),N.errors.matKhau&&(0,x.jsx)("span",{style:{fontSize:"1.6rem",color:"#ff0000c2"},children:N.errors.matKhau})]})]})]})})]})},N="AddUserModal_input__nlcVK",j=function(e){var n=(0,t.useState)(!1),a=(0,h.Z)(n,2),r=a[0],c=a[1],s=(0,i.I0)(),l=function(){c(!1)},m=(0,d.TA)({initialValues:{maNhom:p.WY,taiKhoan:"",hoTen:"",email:"",soDT:"",maLoaiNguoiDung:"KhachHang",matKhau:""},validationSchema:g.Ry({taiKhoan:g.Z_().required("T\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!").min(6,"T\xe0i kho\u1ea3n t\u1ed1i thi\u1ec3u 6 k\xfd t\u1ef1!"),hoTen:g.Z_().required("H\u1ecd t\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),matKhau:g.Z_().required("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!").min(8,"M\u1eadt kh\u1ea9u t\u1ed1i thi\u1ec3u 6 k\xfd t\u1ef1!"),email:g.Z_().required("Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!").email("Email kh\xf4ng h\u1ee3p l\u1ec7, v\xed d\u1ee5: example@gmail.com"),soDT:g.Z_().required("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!").max(10,"T\u1ed1i ta 10 ch\u1eef s\u1ed1!").matches(/(84|0[3|5|7|8|9])+([0-9]{8})/,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7!")}),onSubmit:function(e,n){var a=n.resetForm;s((0,u.ND)(e)),l(),a()}});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{style:{backgroundColor:"green"},type:"primary",onClick:function(){c(!0)},children:"Th\xeam ng\u01b0\u1eddi d\xf9ng"}),(0,x.jsx)(f.Z,{title:"Th\xeam ng\u01b0\u1eddi d\xf9ng",visible:r,onCancel:l,onOk:function(){m.handleSubmit()},okType:"primary",okText:"Th\xeam",children:(0,x.jsxs)("form",{onSubmit:m.handleSubmit,children:[(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"T\xe0i kho\u1ea3n"}),(0,x.jsxs)("div",{className:"col-9",children:[(0,x.jsx)("input",{type:"text",className:"form-control ".concat(N),name:"taiKhoan",value:m.values.taiKhoan,onChange:m.handleChange}),m.errors.taiKhoan&&(0,x.jsx)("span",{style:{fontSize:"1.6rem",color:"#ff0000c2"},children:m.errors.taiKhoan})]})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"H\u1ecd t\xean"}),(0,x.jsxs)("div",{className:"col-9",children:[(0,x.jsx)("input",{type:"text",className:"form-control ".concat(N),name:"hoTen",value:m.values.hoTen,onChange:m.handleChange}),m.errors.hoTen&&(0,x.jsx)("span",{style:{fontSize:"1.6rem",color:"#ff0000c2"},children:m.errors.hoTen})]})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"Email"}),(0,x.jsxs)("div",{className:"col-9",children:[(0,x.jsx)("input",{type:"email",className:"form-control ".concat(N),name:"email",value:m.values.email,onChange:m.handleChange}),m.errors.email&&(0,x.jsx)("span",{style:{fontSize:"1.6rem",color:"#ff0000c2"},children:m.errors.email})]})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"Lo\u1ea1i ng\u01b0\u1eddi d\xf9ng"}),(0,x.jsx)("div",{className:"col-9",children:(0,x.jsxs)("select",{name:"maLoaiNguoiDung",className:"form-control ".concat(N),onChange:m.handleChange,value:m.values.maLoaiNguoiDung,children:[(0,x.jsx)("option",{value:"QuanTri",children:"Qu\u1ea3n tr\u1ecb"}),(0,x.jsx)("option",{value:"KhachHang",children:"Kh\xe1ch h\xe0ng"})]})})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),(0,x.jsxs)("div",{className:"col-9",children:[(0,x.jsx)("input",{type:"text",className:"form-control ".concat(N),name:"soDT",value:m.values.soDT,onChange:m.handleChange}),m.errors.soDT&&(0,x.jsx)("span",{style:{fontSize:"1.6rem",color:"#ff0000c2"},children:m.errors.soDT})]})]}),(0,x.jsxs)("div",{className:"form-group row",children:[(0,x.jsx)("label",{className:"col-3 col-form-label",children:"M\u1eadt kh\u1ea9u"}),(0,x.jsxs)("div",{className:"col-9",children:[(0,x.jsx)("input",{type:"text",className:"form-control ".concat(N),name:"matKhau",value:m.values.matKhau,onChange:m.handleChange}),m.errors.matKhau&&(0,x.jsx)("span",{style:{fontSize:"1.6rem",color:"#ff0000c2"},children:m.errors.matKhau})]})]})]})})]})};var T=function(){var e=(0,i.v9)((function(e){return e.userManagerReducer})).userList,n=(0,i.I0)();(0,t.useEffect)((function(){n((0,u.nQ)())}),[]);var a=r.Z.Search,h=[{title:"T\xe0i kho\u1ea3n",dataIndex:"taiKhoan",sorter:function(e,n){return e.taiKhoan.toLowerCase().trim()>n.taiKhoan.toLowerCase().trim()?1:-1},sortDirections:["ascend","descend"],width:"15%"},{title:"H\u1ecd t\xean",dataIndex:"hoTen",sorter:function(e,n){return e.hoTen.toLowerCase().trim()>n.hoTen.toLowerCase().trim()?-1:1},sortDirections:["ascend","descend"],width:"20%"},{title:"Email",dataIndex:"email",width:"20%"},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"soDT",width:"15%"},{title:"Lo\u1ea1i ng\u01b0\u1eddi d\xf9ng",dataIndex:"maLoaiNguoiDung",width:"15%"},{title:"Thao t\xe1c",dataIndex:"taiKhoan",render:function(e,a){return(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(v,{user:a}),(0,x.jsx)(o.Z,{type:"danger",onClick:function(){window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a ng\u01b0\u1eddi d\xf9ng: "+a.hoTen)&&n((0,u.J$)(a.taiKhoan))},children:"X\xf3a"})]},a.taiKhoan)},sortDirections:["descend","ascend"],width:"15%"}],m=e;return(0,x.jsxs)("div",{className:"container",children:[(0,x.jsx)(j,{}),(0,x.jsx)(a,{placeholder:"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng",enterButton:(0,x.jsx)(s.Z,{}),size:"large",onSearch:function(e){n((0,u.nQ)(e))}}),(0,x.jsx)(c.Z,{columns:h,dataSource:m,onChange:function(e,n,a,t){console.log("params",e,n,a,t)},rowKey:function(e){return e.taiKhoan}}),(0,x.jsx)(l.j3,{})]})}},8553:function(e,n,a){a.d(n,{ND:function(){return T},J$:function(){return N},xy:function(){return j},pZ:function(){return f},nQ:function(){return v},Re:function(){return g},H:function(){return p},z$:function(){return x}});var t=a(4165),r=a(5861),o=a(5645),c=a(3144),s=a(5671),i=a(136),l=a(7277),u=(a(2426),a(2226)),h=function(e){(0,i.Z)(a,e);var n=(0,l.Z)(a);function a(){var e;return(0,s.Z)(this,a),(e=n.call(this)).logIn=function(n){return e.post("/api/QuanLyNguoiDung/DangNhap",n)},e.registerAccount=function(n){return e.post("/api/QuanLyNguoiDung/DangKy",n)},e.getUserInfo=function(){return e.post("/api/QuanLyNguoiDung/ThongTinTaiKhoan")},e.updateAccount=function(n){return e.put("/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung",n)},e.getUserList=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""!==n.trim()?e.get("/api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=".concat(u.WY,"&tuKhoa=").concat(n)):e.get("/api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=".concat(u.WY))},e.deleteUser=function(n){return e.delete("/api/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=".concat(n))},e.editUser=function(n){return e.post("/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung",n)},e.addUser=function(n){return e.post("/api/QuanLyNguoiDung/ThemNguoiDung",n)},e}return(0,c.Z)(a)}(a(6002).b),m=new h,d=a(2862),g=function(e){return function(){var n=(0,r.Z)((0,t.Z)().mark((function n(a){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.logIn(e);case 3:200===(r=n.sent).data.statusCode&&(a({type:d.pe,data:r.data.content}),window.alert("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"),o.m.back()),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),window.alert("T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang"),console.log("error",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},f=function(){return function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.getUserInfo();case 3:200===(a=e.sent).data.statusCode&&n({type:d.$j,data:a.data.content}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()},p=function(e){return function(){var n=(0,r.Z)((0,t.Z)().mark((function n(a){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.registerAccount(e);case 3:200===(r=n.sent).data.statusCode&&(a({type:d.pe,data:r.data.content}),o.m.back(),window.alert("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng")),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("errors",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var n=(0,r.Z)((0,t.Z)().mark((function n(a){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.updateAccount(e);case 3:r=n.sent,a({type:"UPDATE_ACCOUNT",payload:r.data.content}),window.alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("errors",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var n=(0,r.Z)((0,t.Z)().mark((function n(a){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.getUserList(e);case 3:200===(r=n.sent).data.statusCode&&a({type:"SET_DANH_SACH_NGUOI_DUNG",payload:r.data.content}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},N=function(e){return function(){var n=(0,r.Z)((0,t.Z)().mark((function n(a){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.deleteUser(e);case 3:200===n.sent.data.statusCode&&(alert("X\xf3a th\xe0nh c\xf4ng!"),a(v())),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0.response.data.content),console.log("error",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e){return function(){var n=(0,r.Z)((0,t.Z)().mark((function n(a){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.editUser(e);case 3:n.sent,alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),a(v()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("errors",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},T=function(e){return function(){var n=(0,r.Z)((0,t.Z)().mark((function n(a){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.addUser(e);case 3:n.sent,a(v()),alert("Th\xeam m\u1edbi th\xe0nh c\xf4ng!"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert("L\u1ed7i: "+n.t0.response.data.content);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}},6002:function(e,n,a){a.d(n,{b:function(){return i}});var t=a(3144),r=a(5671),o=a(4569),c=a.n(o),s=a(2226),i=(0,t.Z)((function e(){(0,r.Z)(this,e),this.put=function(e,n){return c()({url:"".concat(s.yK).concat(e),method:"PUT",data:n,headers:{Authorization:localStorage.getItem(s.bc)?"Bearer "+JSON.parse(localStorage.getItem(s.bc)).accessToken:"",TokenCybersoft:s.o3}})},this.post=function(e,n){return c()({url:"".concat(s.yK).concat(e),method:"POST",data:n,headers:{Authorization:localStorage.getItem(s.bc)?"Bearer "+JSON.parse(localStorage.getItem(s.bc)).accessToken:"",TokenCybersoft:s.o3}})},this.get=function(e){return c()({url:"".concat(s.yK).concat(e),method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem(s.o3),TokenCybersoft:s.o3}})},this.delete=function(e){return c()({url:"".concat(s.yK).concat(e),method:"DELETE",headers:{Authorization:localStorage.getItem(s.bc)?"Bearer "+JSON.parse(localStorage.getItem(s.bc)).accessToken:"",TokenCybersoft:s.o3}})}}))}}]);
//# sourceMappingURL=631.e2a4da42.chunk.js.map