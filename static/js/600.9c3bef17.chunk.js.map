{"version":3,"file":"static/js/600.9c3bef17.chunk.js","mappings":"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","sources":["webpack://book-movie-ticket/./src/pages/Login/Login.module.scss?62e7","pages/Login/index.js","services/UserManagementService.js","redux/actions/userManagementAction.js","services/BaseService.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"login__background\":\"Login_login__background__u5VGJ\",\"login__form\":\"Login_login__form__Otsxv\",\"close\":\"Login_close__fFvQN\"};","import styles from \"./Login.module.scss\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logInAction } from \"../../redux/actions/userManagementAction\";\r\n\r\nfunction Login(props) {\r\n  const dispatch = useDispatch();\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      taiKhoan: \"\",\r\n      matKhau: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      taiKhoan: Yup.string()\r\n        .required(\"Tài khoản không được bỏ trống!\")\r\n        .min(6, \"Tài khoản tối thiểu 6 ký tự\"),\r\n      matKhau: Yup.string().required(\"Mật khẩu không được bỏ trống!\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n      dispatch(logInAction(values));\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className={`${styles[\"login__background\"]}`}>\r\n      <form\r\n        onSubmit={formik.handleSubmit}\r\n        className={`${styles[\"login__form\"]}`}\r\n      >\r\n        <div className=\"form-outline mb-4\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control form-control-lg\"\r\n            name=\"taiKhoan\"\r\n            value={formik.values.taiKhoan}\r\n            onChange={formik.handleChange}\r\n            placeholder=\"Nhập tài khoản\"\r\n          />\r\n          {formik.errors.taiKhoan && (\r\n            <span style={{ fontSize: \"1.6rem\", color: \"#ff0000c2\" }}>\r\n              {formik.errors.taiKhoan}\r\n            </span>\r\n          )}\r\n        </div>\r\n        <div className=\"form-outline mb-4\">\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control form-control-lg\"\r\n            name=\"matKhau\"\r\n            value={formik.values.matKhau}\r\n            onChange={formik.handleChange}\r\n            placeholder=\"Nhập mật khẩu\"\r\n          />\r\n          {formik.errors.matKhau && (\r\n            <span style={{ fontSize: \"1.6rem\", color: \"#ff0000c2\" }}>\r\n              {formik.errors.matKhau}\r\n            </span>\r\n          )}\r\n        </div>\r\n        <div className=\"pt-1 mb-4\">\r\n          <button className=\"btn btn-danger btn-lg btn-block\" type=\"submit\">\r\n            Đăng nhập\r\n          </button>\r\n        </div>\r\n        <p className=\"small mb-5 pb-lg-2\">\r\n          <a href=\"#!\">Quên mật khẩu?</a>\r\n        </p>\r\n        <p>\r\n          Don't have an account?{\" \"}\r\n          <NavLink to=\"/register\" className=\"link-info\">\r\n            Đăng ký\r\n          </NavLink>\r\n        </p>\r\n        <NavLink className={`${styles[\"close\"]}`} to=\"/\">\r\n          X\r\n        </NavLink>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { relativeTimeRounding } from \"moment\";\r\nimport { GROUPID } from \"../util/settings/config\";\r\nimport { BaseService } from \"./BaseService\";\r\nexport class UserManagementService extends BaseService {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  logIn = (logInInfo) => {\r\n    return this.post(`/api/QuanLyNguoiDung/DangNhap`, logInInfo);\r\n  };\r\n\r\n  registerAccount = (registerInfo) => {\r\n    return this.post(`/api/QuanLyNguoiDung/DangKy`, registerInfo);\r\n  };\r\n\r\n  getUserInfo = () => {\r\n    return this.post(`/api/QuanLyNguoiDung/ThongTinTaiKhoan`);\r\n  };\r\n\r\n  updateAccount = (updateInfo) => {\r\n    return this.put(\r\n      `/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung`,\r\n      updateInfo\r\n    );\r\n  };\r\n\r\n  getUserList = (tuKhoa = \"\") => {\r\n    if (tuKhoa.trim() !== \"\") {\r\n      return this.get(\r\n        `/api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=${GROUPID}&tuKhoa=${tuKhoa}`\r\n      );\r\n    }\r\n    return this.get(\r\n      `/api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=${GROUPID}`\r\n    );\r\n  };\r\n\r\n  deleteUser = (taiKhoan) => {\r\n    return this.delete(\r\n      `/api/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=${taiKhoan}`\r\n    );\r\n  };\r\n\r\n  editUser = (user) => {\r\n    return this.post(`/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung`, user);\r\n  };\r\n\r\n  addUser = (user) => {\r\n    return this.post(`/api/QuanLyNguoiDung/ThemNguoiDung`, user);\r\n  };\r\n}\r\n\r\nexport const userManagementService = new UserManagementService();\r\n","import { Link } from \"react-router-dom\";\r\nimport { history } from \"../../App\";\r\nimport { userManagementService } from \"../../services/UserManagementService\";\r\nimport {\r\n  DANG_NHAP_ACTION,\r\n  SET_THONG_TIN_NGUOI_DUNG,\r\n} from \"../contants/movie-booking\";\r\n\r\nexport const logInAction = (logInInfo) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagementService.logIn(logInInfo);\r\n      if (result.data.statusCode === 200) {\r\n        dispatch({\r\n          type: DANG_NHAP_ACTION,\r\n          data: result.data.content,\r\n        });\r\n        window.alert(\"Đăng nhập thành công\");\r\n        history.back();\r\n      }\r\n    } catch (error) {\r\n      window.alert(\"Tài khoản hoặc mật khẩu không đúng\");\r\n      console.log(\"error\", error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const getUserInfoAction = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagementService.getUserInfo();\r\n      if (result.data.statusCode === 200) {\r\n        dispatch({\r\n          type: SET_THONG_TIN_NGUOI_DUNG,\r\n          data: result.data.content,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const registerAccountAction = (registerInfo) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagementService.registerAccount(registerInfo);\r\n      if (result.data.statusCode === 200) {\r\n        dispatch({\r\n          type: DANG_NHAP_ACTION,\r\n          data: result.data.content,\r\n        });\r\n        history.back();\r\n        window.alert(\"Đăng ký thành công\");\r\n      }\r\n    } catch (errors) {\r\n      console.log(\"errors\", errors);\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateAccountAction = (updateInfo) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagementService.updateAccount(updateInfo);\r\n      dispatch({\r\n        type: \"UPDATE_ACCOUNT\",\r\n        payload: result.data.content,\r\n      });\r\n      window.alert(\"Cập nhật thành công!\");\r\n    } catch (errors) {\r\n      console.log(\"errors\", errors);\r\n    }\r\n  };\r\n};\r\n\r\nexport const getUserListAction = (tuKhoa = \"\") => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagementService.getUserList(tuKhoa);\r\n      if (result.data.statusCode === 200) {\r\n        dispatch({\r\n          type: \"SET_DANH_SACH_NGUOI_DUNG\",\r\n          payload: result.data.content,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteUserAction = (taiKhoan) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagementService.deleteUser(taiKhoan);\r\n      if (result.data.statusCode === 200) {\r\n        alert(\"Xóa thành công!\");\r\n        dispatch(getUserListAction());\r\n      }\r\n    } catch (error) {\r\n      alert(error.response.data.content);\r\n      console.log(\"error\", error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const editUserAction = (user) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagementService.editUser(user);\r\n      alert(\"Cập nhật thành công!\");\r\n      dispatch(getUserListAction());\r\n    } catch (errors) {\r\n      console.log(\"errors\", errors);\r\n    }\r\n  };\r\n};\r\n\r\nexport const addUserAction = (user) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const result = await userManagementService.addUser(user);\r\n      dispatch(getUserListAction());\r\n      alert(\"Thêm mới thành công!\");\r\n    } catch (error) {\r\n      alert(\"Lỗi: \" + error.response.data.content);\r\n    }\r\n  };\r\n};\r\n","import Axios from \"axios\";\r\nimport { DOMAIN, TOKEN, USER_LOGIN } from \"../util/settings/config\";\r\n\r\nexport class BaseService {\r\n  put = (url, model) => {\r\n    return Axios({\r\n      url: `${DOMAIN}${url}`,\r\n      method: \"PUT\",\r\n      data: model,\r\n      headers: {\r\n        Authorization: localStorage.getItem(USER_LOGIN)\r\n          ? \"Bearer \" + JSON.parse(localStorage.getItem(USER_LOGIN)).accessToken\r\n          : \"\",\r\n        TokenCybersoft: TOKEN,\r\n      },\r\n    });\r\n  };\r\n\r\n  post = (url, model) => {\r\n    return Axios({\r\n      url: `${DOMAIN}${url}`,\r\n      method: \"POST\",\r\n      data: model,\r\n      headers: {\r\n        Authorization: localStorage.getItem(USER_LOGIN)\r\n          ? \"Bearer \" + JSON.parse(localStorage.getItem(USER_LOGIN)).accessToken\r\n          : \"\",\r\n        TokenCybersoft: TOKEN,\r\n      },\r\n    });\r\n  };\r\n\r\n  get = (url) => {\r\n    return Axios({\r\n      url: `${DOMAIN}${url}`,\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(TOKEN),\r\n        TokenCybersoft: TOKEN,\r\n      },\r\n    });\r\n  };\r\n\r\n  delete = (url) => {\r\n    return Axios({\r\n      url: `${DOMAIN}${url}`,\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: localStorage.getItem(USER_LOGIN)\r\n          ? \"Bearer \" + JSON.parse(localStorage.getItem(USER_LOGIN)).accessToken\r\n          : \"\",\r\n        TokenCybersoft: TOKEN,\r\n      },\r\n    });\r\n  };\r\n}\r\n"],"names":["props","dispatch","useDispatch","formik","useFormik","initialValues","taiKhoan","matKhau","validationSchema","Yup","required","min","onSubmit","values","logInAction","className","styles","handleSubmit","type","name","value","onChange","handleChange","placeholder","errors","style","fontSize","color","href","to","UserManagementService","logIn","logInInfo","post","registerAccount","registerInfo","getUserInfo","updateAccount","updateInfo","put","getUserList","tuKhoa","trim","get","GROUPID","deleteUser","delete","editUser","user","addUser","BaseService","userManagementService","result","data","statusCode","DANG_NHAP_ACTION","content","window","alert","history","console","log","getUserInfoAction","SET_THONG_TIN_NGUOI_DUNG","registerAccountAction","updateAccountAction","payload","getUserListAction","deleteUserAction","response","editUserAction","addUserAction","url","model","Axios","DOMAIN","method","headers","Authorization","localStorage","getItem","USER_LOGIN","JSON","parse","accessToken","TokenCybersoft","TOKEN"],"sourceRoot":""}